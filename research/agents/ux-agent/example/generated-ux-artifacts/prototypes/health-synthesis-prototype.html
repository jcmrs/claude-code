<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Insight Assistant - Analysis Complete</title>
    <script src="https://cdn.tailwindcss.com/3.3.0"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/recharts@2.10.0/dist/Recharts.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Gradient Background */
        .gradient-bg {
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 50%, #ddd6fe 100%);
            min-height: 100vh;
        }

        /* Glassmorphism Effects */
        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        }

        .glass-sidebar {
            background: rgba(248, 250, 252, 0.92);
            backdrop-filter: blur(12px);
            border-right: 1px solid rgba(226, 232, 240, 0.8);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
        }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f3f4f6;
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #9ca3af;
            border-radius: 4px;
        }

        /* Message Animations */
        @keyframes slideUpFade {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-enter {
            animation: slideUpFade 0.3s ease-out;
        }

        /* Specialist Colors */
        .dr-heart { color: #EF4444; border-color: #EF4444; background-color: rgba(239, 68, 68, 0.1); }
        .dr-lab { color: #10B981; border-color: #10B981; background-color: rgba(16, 185, 129, 0.1); }
        .dr-hormone { color: #8B5CF6; border-color: #8B5CF6; background-color: rgba(139, 92, 246, 0.1); }
        .dr-analytics { color: #F59E0B; border-color: #F59E0B; background-color: rgba(245, 158, 11, 0.1); }
        .dr-prevention { color: #F97316; border-color: #F97316; background-color: rgba(249, 115, 22, 0.1); }
        .dr-pharma { color: #FB923C; border-color: #FB923C; background-color: rgba(251, 146, 60, 0.1); }
        .dr-vitality { color: #06B6D4; border-color: #06B6D4; background-color: rgba(6, 182, 212, 0.1); }

        /* Active Thread */
        .thread-active {
            border-left: 3px solid #3B82F6;
            background: rgba(59, 130, 246, 0.05);
        }

        /* Tool Call Styling */
        .tool-call {
            background: rgba(59, 130, 246, 0.05);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
        }

        /* Code Block Styling */
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
        }

        .code-keyword { color: #569cd6; }
        .code-string { color: #ce9178; }
        .code-number { color: #b5cea8; }
        .code-comment { color: #6a9955; }

        /* Check Animation */
        @keyframes checkmark {
            0% { transform: scale(0) rotate(45deg); }
            50% { transform: scale(1.2) rotate(45deg); }
            100% { transform: scale(1) rotate(45deg); }
        }

        .check-icon {
            animation: checkmark 0.5s ease-out;
        }

        /* Tab Active */
        .tab-active {
            color: #3B82F6;
            border-bottom: 2px solid #3B82F6;
            background: rgba(59, 130, 246, 0.05);
        }
    </style>
</head>
<body class="gradient-bg font-sans antialiased h-screen overflow-hidden">
    <!-- Main Layout Container -->
    <div class="flex flex-col h-full">
        <!-- Header -->
        <header class="glass-panel border-0 rounded-none shadow-sm h-16 flex-shrink-0 z-20">
            <div class="h-full px-6 flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-white text-xl">
                        üè•
                    </div>
                    <div>
                        <h1 class="text-lg font-semibold text-gray-800">Health Insight Assistant</h1>
                        <p class="text-xs text-gray-500">Powered by Multi-Agent AI ‚Ä¢ Snowflake Cortex</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2 px-3 py-1 bg-green-100 rounded-full">
                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                        <span class="text-sm text-green-700 font-medium">Medical Team Status: Ready</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <span class="text-sm text-gray-600">George Vetticaden</span>
                        <img src="https://ui-avatars.com/api/?name=George+Vetticaden&background=3B82F6&color=fff" 
                             class="w-9 h-9 rounded-full">
                        <button class="text-gray-500 hover:text-gray-700">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                      d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <div class="flex flex-1 overflow-hidden">
            <!-- Left Sidebar - Thread Management -->
            <aside class="glass-sidebar w-80 flex-shrink-0 flex flex-col">
                <div class="p-4 border-b border-gray-200">
                    <button class="w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg py-3 px-4 font-medium hover:shadow-lg transition-shadow">
                        + New Health Conversation
                    </button>
                </div>
                
                <div class="p-4">
                    <div class="relative">
                        <input type="text" placeholder="Search conversations..." 
                               class="w-full pl-10 pr-4 py-2 bg-white/70 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-blue-400">
                        <svg class="absolute left-3 top-2.5 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </div>
                </div>

                <div class="flex-1 overflow-y-auto custom-scrollbar">
                    <div class="px-4 pb-4">
                        <!-- Today Section -->
                        <div class="mb-4">
                            <h3 class="text-xs font-semibold text-gray-500 uppercase mb-2">TODAY</h3>
                            <div class="space-y-2">
                                <!-- Active Thread - Now Complete -->
                                <div class="glass-card p-3 cursor-pointer thread-active">
                                    <h4 class="font-medium text-gray-800 text-sm mb-1">Cholesterol Analysis</h4>
                                    <p class="text-xs text-gray-600 line-clamp-2">
                                        What's my cholesterol trend over the last 15 years? I want to see...
                                    </p>
                                    <div class="flex items-center justify-between mt-2">
                                        <span class="text-xs text-gray-500">02:36 PM</span>
                                        <span class="text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full">
                                            Complete
                                        </span>
                                    </div>
                                </div>

                                <div class="glass-card p-3 cursor-pointer hover:shadow-md transition-shadow">
                                    <h4 class="font-medium text-gray-800 text-sm mb-1">Blood Pressure Review</h4>
                                    <p class="text-xs text-gray-600 line-clamp-2">
                                        Analyze my blood pressure trends and medication effectiveness...
                                    </p>
                                    <div class="flex items-center justify-between mt-2">
                                        <span class="text-xs text-gray-500">10:15 AM</span>
                                        <span class="text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full">
                                            Complete
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Center Panel - Chat Interface -->
            <main class="flex-1 flex flex-col min-w-0">
                <div class="flex-1 overflow-y-auto custom-scrollbar p-6">
                    <div class="max-w-3xl mx-auto space-y-4">
                        <!-- Previous messages... -->
                        
                        <!-- CMO Synthesis -->
                        <div class="flex items-start space-x-3 message-enter">
                            <div class="w-8 h-8 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0">
                                <span class="text-sm">ü©∫</span>
                            </div>
                            <div class="flex-1 max-w-[70%]">
                                <p class="text-xs text-gray-500 mb-1">Dr. Vitality - Chief Medical Officer</p>
                                <div class="glass-card px-4 py-3 rounded-2xl rounded-tl-md">
                                    <h3 class="text-base font-semibold text-gray-800 mb-3">
                                        Your 15-Year Cholesterol Trend Analysis
                                    </h3>
                                    
                                    <p class="text-sm text-gray-700 mb-3">
                                        Based on your comprehensive lab history from 2010-2025, here's what your cholesterol trends show:
                                    </p>

                                    <div class="space-y-3 text-sm">
                                        <div>
                                            <h4 class="font-semibold text-gray-800 mb-1">Key Findings - Your Top 4 Cholesterol Metrics:</h4>
                                            
                                            <div class="space-y-2 ml-4">
                                                <div class="flex items-start">
                                                    <span class="text-green-600 mr-2">‚úì</span>
                                                    <div>
                                                        <strong>1. HDL ("Good" Cholesterol) - Consistently Low</strong>
                                                        <ul class="list-disc ml-5 mt-1 text-gray-600">
                                                            <li>Your HDL has remained problematically low throughout the 15-year period</li>
                                                            <li>Range: 20-47 mg/dL (target is above 40 mg/dL for men, 50 for women)</li>
                                                            <li>Current level (2025): 33 mg/dL - this is concerning as it's below protective levels</li>
                                                            <li>Best period: 2021-2023 when it reached 42-47 mg/dL</li>
                                                        </ul>
                                                    </div>
                                                </div>

                                                <div class="flex items-start">
                                                    <span class="text-yellow-600 mr-2">‚ö†Ô∏è</span>
                                                    <div>
                                                        <strong>2. Triglycerides - Extreme Volatility</strong>
                                                        <ul class="list-disc ml-5 mt-1 text-gray-600">
                                                            <li>Your triglycerides have shown dramatic swings: 51-426 mg/dL</li>
                                                            <li>Dangerously high levels in 2013 (426) and 2014 (390) - these levels risk pancreatitis</li>
                                                            <li>Best control in 2021 (51 mg/dL)</li>
                                                            <li>Current level (2025): 153 mg/dL - borderline high and trending upward</li>
                                                        </ul>
                                                    </div>
                                                </div>

                                                <div class="flex items-start">
                                                    <span class="text-green-600 mr-2">‚úì</span>
                                                    <div>
                                                        <strong>3. Total Cholesterol - Variable but Improving Overall</strong>
                                                        <ul class="list-disc ml-5 mt-1 text-gray-600">
                                                            <li>Range: 114-205 mg/dL over the period</li>
                                                            <li>Recent trend: Improved from 186 mg/dL (2018) to 114-131 mg/dL (2022-2023)</li>
                                                            <li>Current level (2025): 149 mg/dL - acceptable but increasing</li>
                                                        </ul>
                                                    </div>
                                                </div>

                                                <div class="flex items-start">
                                                    <span class="text-gray-600 mr-2">‚Äì</span>
                                                    <div>
                                                        <strong>4. LDL Cholesterol - Limited Data</strong>
                                                        <ul class="list-disc ml-5 mt-1 text-gray-600">
                                                            <li>Only calculated in recent years when triglycerides were low enough</li>
                                                            <li>2021-2023: 64-85 mg/dL (optimal range)</li>
                                                            <li>Cannot be calculated when triglycerides exceed 400 mg/dL</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div>
                                            <h4 class="font-semibold text-gray-800 mb-1">Bottom Line:</h4>
                                            <p class="text-gray-700">
                                                Your 15-year trend shows a pattern of metabolic dysfunction with recent deterioration 
                                                after a period of good control. The combination of persistently low HDL, volatile 
                                                triglycerides, and developing prediabetes requires immediate attention to prevent 
                                                cardiovascular complications. The fact that you achieved excellent control in 2021-2023 
                                                is encouraging - you need to work with your healthcare team to understand what changed 
                                                and get back on track.
                                            </p>
                                        </div>

                                        <div>
                                            <p class="text-xs text-gray-500 italic">
                                                Please schedule an appointment with your primary care physician or cardiologist 
                                                within the next 2-4 weeks to discuss these findings and develop a comprehensive 
                                                treatment plan. Given your history of extreme triglyceride elevations (over 400), 
                                                this is not something to delay.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <span class="text-xs text-gray-500 mt-1 block">14:58</span>
                            </div>
                        </div>

                        <!-- Visualization Generation -->
                        <div class="flex items-start space-x-3 message-enter">
                            <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0">
                                <span class="text-sm">üìä</span>
                            </div>
                            <div class="flex-1 max-w-[70%]">
                                <p class="text-xs text-gray-500 mb-1">Visualization Agent</p>
                                <div class="glass-card px-4 py-3 rounded-2xl rounded-tl-md">
                                    <p class="text-sm text-gray-800">
                                        üìä Generating interactive visualization of your health data...
                                    </p>
                                </div>
                                <span class="text-xs text-gray-500 mt-1 block">14:58</span>
                            </div>
                        </div>

                        <!-- Medical Team Summary -->
                        <div class="flex justify-center message-enter">
                            <div class="glass-card px-4 py-2 text-center">
                                <p class="text-sm text-gray-600">
                                    üìã <strong>Medical Team Consultation Summary</strong>
                                </p>
                                <p class="text-xs text-gray-500 mt-1">
                                    Team Composition: 3 medical specialists | Data Queries Executed: 3 targeted health queries<br>
                                    Overall Confidence: 88% | Key Recommendations: 10 | Areas of Concern: 1
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Input Area - Now Enabled -->
                <div class="border-t border-gray-200 bg-white/80 backdrop-blur-sm p-4">
                    <div class="max-w-3xl mx-auto">
                        <div class="relative">
                            <textarea 
                                placeholder="Ask about your health data..." 
                                class="w-full p-3 pr-20 bg-white border border-gray-300 rounded-lg resize-none text-sm focus:outline-none focus:border-blue-400"
                                rows="2"></textarea>
                            <div class="absolute bottom-3 right-3 flex items-center space-x-2">
                                <span class="text-xs text-gray-400">0/2000</span>
                                <button class="p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Right Panel - Medical Team / Visualizations -->
            <aside class="w-[45%] glass-sidebar border-l border-gray-200 flex flex-col">
                <!-- Tab Navigation -->
                <div class="flex border-b border-gray-200">
                    <button id="team-tab" class="flex-1 px-4 py-3 text-sm font-medium text-gray-600 hover:text-gray-800">
                        üë• Medical Team
                    </button>
                    <button id="viz-tab" class="flex-1 px-4 py-3 text-sm font-medium tab-active">
                        üìä Visualizations (1)
                    </button>
                </div>

                <!-- Tab Content -->
                <div class="flex-1 flex flex-col overflow-hidden">
                    <!-- Query Selector -->
                    <div class="p-4 border-b border-gray-200">
                        <select class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-blue-400">
                            <option>Query 1 - 02:36 PM - What's my cholesterol trend over the last 15 years?</option>
                        </select>
                    </div>

                    <!-- Visualization Tab Content -->
                    <div id="viz-content" class="flex-1 overflow-y-auto p-4">
                        <div class="glass-card p-4 mb-4">
                            <div class="flex items-center justify-between mb-3">
                                <h3 class="text-sm font-semibold text-gray-700">Visualizations</h3>
                                <div class="flex space-x-2">
                                    <button class="text-xs px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors">
                                        üì• Download
                                    </button>
                                    <button class="text-xs px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors">
                                        üìã Copy
                                    </button>
                                </div>
                            </div>

                            <!-- React Component Info -->
                            <div class="mb-3 p-3 bg-purple-50 rounded-lg">
                                <div class="flex items-center space-x-2 mb-1">
                                    <span class="text-xs font-medium text-purple-700">üìÑ React Component</span>
                                    <span class="text-xs text-gray-500">‚Ä¢ Streaming code...</span>
                                </div>
                                <p class="text-xs text-gray-600">Self-contained visualization with embedded health data</p>
                            </div>

                            <!-- Code Preview (Truncated) -->
                            <div class="code-block mb-4 max-h-48 overflow-hidden relative">
                                <pre><code><span class="code-keyword">const</span> HealthVisualization = () => {
  <span class="code-keyword">const</span> rawData = [
    { date: <span class="code-string">"2010-01-01"</span>, hdl: <span class="code-number">29</span>, triglycerides: <span class="code-number">186</span>, total: <span class="code-number">170</span>, ldl: <span class="code-number">null</span> },
    { date: <span class="code-string">"2011-11-01"</span>, hdl: <span class="code-number">23</span>, triglycerides: <span class="code-number">210</span>, total: <span class="code-number">175</span>, ldl: <span class="code-number">null</span> },
    <span class="code-comment">// ... more data points</span>
  ];
  
  <span class="code-keyword">return</span> (
    <span class="code-comment">// Chart implementation...</span></code></pre>
                                <div class="absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-gray-900 to-transparent"></div>
                            </div>

                            <div class="text-center mb-3">
                                <button class="text-xs text-blue-600 hover:text-blue-700">
                                    Visualization will appear when code is complete
                                </button>
                            </div>
                        </div>

                        <!-- Rendered Visualization -->
                        <div class="glass-card p-4">
                            <h4 class="text-base font-semibold text-gray-800 mb-1">15-Year Cholesterol Trend Analysis</h4>
                            <p class="text-xs text-gray-600 mb-4">Tracking your top 4 cholesterol metrics from 2010-2025</p>
                            
                            <div id="chart-container" style="height: 400px;">
                                <!-- Recharts will render here -->
                            </div>

                            <!-- Chart Legend and Insights -->
                            <div class="mt-4 space-y-3">
                                <div class="grid grid-cols-2 gap-3 text-xs">
                                    <div class="p-2 bg-orange-50 rounded-lg">
                                        <div class="font-semibold text-orange-700">HDL Cholesterol</div>
                                        <div class="text-gray-600">33 mg/dL</div>
                                        <div class="text-orange-600">Target: &gt;40 (men), &gt;50 (women)</div>
                                    </div>
                                    <div class="p-2 bg-red-50 rounded-lg">
                                        <div class="font-semibold text-red-700">Triglycerides</div>
                                        <div class="text-gray-600">153 mg/dL</div>
                                        <div class="text-red-600">Target: &lt;150</div>
                                    </div>
                                    <div class="p-2 bg-blue-50 rounded-lg">
                                        <div class="font-semibold text-blue-700">Total Cholesterol</div>
                                        <div class="text-gray-600">149 mg/dL</div>
                                        <div class="text-green-600">Target: &lt;200</div>
                                    </div>
                                    <div class="p-2 bg-purple-50 rounded-lg">
                                        <div class="font-semibold text-purple-700">LDL Cholesterol</div>
                                        <div class="text-gray-600">N/A</div>
                                        <div class="text-gray-500">No Recent Data</div>
                                    </div>
                                </div>

                                <div class="p-3 bg-yellow-50 rounded-lg">
                                    <p class="text-xs text-yellow-800">
                                        <strong>‚ö†Ô∏è Identified Adherence Gaps</strong><br>
                                        187-day gap in Rosuvastatin (May 2022 to Nov 2022)<br>
                                        158-day gap in Rosuvastatin (Nov 2023 to Apr 2024)
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Medical Team Tab Content (Hidden) -->
                    <div id="team-content" class="flex-1 flex-col hidden">
                        <div class="p-4">
                            <h3 class="text-sm font-semibold text-gray-700 mb-3">TEAM HIERARCHY & STATUS</h3>
                            <div class="grid grid-cols-3 gap-3">
                                <!-- All specialists complete -->
                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto bg-white rounded-full border-3 dr-heart shadow-md flex items-center justify-center mb-2">
                                        <div class="relative">
                                            <span class="text-xl">‚ù§Ô∏è</span>
                                            <div class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center">
                                                <svg class="w-3 h-3 text-white check-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="text-xs font-medium">Dr. Heart</p>
                                    <p class="text-xs text-green-600">85% confidence</p>
                                </div>

                                <div class="text-center">
                                    <div class="w-20 h-20 mx-auto bg-white rounded-full border-4 dr-vitality shadow-lg flex items-center justify-center mb-2">
                                        <span class="text-2xl">ü©∫</span>
                                    </div>
                                    <p class="text-xs font-medium">Dr. Vitality</p>
                                    <p class="text-xs text-cyan-600">100% complete</p>
                                </div>

                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto bg-white rounded-full border-3 dr-hormone shadow-md flex items-center justify-center mb-2">
                                        <div class="relative">
                                            <span class="text-xl">üß¨</span>
                                            <div class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center">
                                                <svg class="w-3 h-3 text-white check-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="text-xs font-medium">Dr. Hormone</p>
                                    <p class="text-xs text-green-600">85% confidence</p>
                                </div>

                                <div class="text-center col-start-2">
                                    <div class="w-16 h-16 mx-auto bg-white rounded-full border-3 dr-analytics shadow-md flex items-center justify-center mb-2">
                                        <div class="relative">
                                            <span class="text-xl">üìä</span>
                                            <div class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center">
                                                <svg class="w-3 h-3 text-white check-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="text-xs font-medium">Dr. Analytics</p>
                                    <p class="text-xs text-green-600">95% confidence</p>
                                </div>
                            </div>
                        </div>

                        <!-- Analysis Results -->
                        <div class="p-4 border-t border-gray-200">
                            <h3 class="text-sm font-semibold text-gray-700 mb-3">ANALYSIS RESULTS</h3>
                            <div class="space-y-2">
                                <div class="glass-card p-3">
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span>‚ù§Ô∏è</span>
                                        <span class="text-sm font-medium">Dr. Heart - Cardiology</span>
                                        <span class="text-xs text-green-600 ml-auto">85% confidence</span>
                                    </div>
                                    <p class="text-xs text-gray-600">Analysis complete with 85% confidence</p>
                                    <p class="text-xs text-gray-500">1 queries executed</p>
                                </div>

                                <div class="glass-card p-3">
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span>üß¨</span>
                                        <span class="text-sm font-medium">Dr. Hormone - Endocrinology</span>
                                        <span class="text-xs text-green-600 ml-auto">85% confidence</span>
                                    </div>
                                    <p class="text-xs text-gray-600">Analysis complete with 85% confidence</p>
                                    <p class="text-xs text-gray-500">1 queries executed</p>
                                </div>

                                <div class="glass-card p-3">
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span>üìä</span>
                                        <span class="text-sm font-medium">Dr. Analytics - Data Analysis</span>
                                        <span class="text-xs text-green-600 ml-auto">95% confidence</span>
                                    </div>
                                    <p class="text-xs text-gray-600">Analysis complete with 95% confidence</p>
                                    <p class="text-xs text-gray-500">1 queries executed</p>
                                </div>

                                <div class="glass-card p-3 bg-cyan-50">
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span>ü©∫</span>
                                        <span class="text-sm font-medium">Dr. Vitality - Chief Medical Officer</span>
                                        <span class="text-xs text-cyan-600 ml-auto">‚úÖ Synthesizing</span>
                                    </div>
                                    <p class="text-xs text-gray-600">Synthesizing findings from all specialists...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <script type="text/babel">
        const { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } = Recharts;

        const HealthVisualization = () => {
            const rawData = [
                { date: "2010-01-01", hdl: 29, triglycerides: 186, total: 170, ldl: null },
                { date: "2011-11-01", hdl: 23, triglycerides: 210, total: 175, ldl: null },
                { date: "2012-01-01", hdl: 25, triglycerides: 296, total: 185, ldl: null },
                { date: "2013-12-23", hdl: 30, triglycerides: 426, total: 165, ldl: null },
                { date: "2014-01-04", hdl: 20, triglycerides: 390, total: 153, ldl: null },
                { date: "2015-01-16", hdl: 38, triglycerides: 181, total: 205, ldl: null },
                { date: "2016-11-01", hdl: 39, triglycerides: 127, total: 165, ldl: null },
                { date: "2017-09-12", hdl: 20, triglycerides: 183, total: 137, ldl: null },
                { date: "2018-01-15", hdl: 36, triglycerides: 165, total: 186, ldl: null },
                { date: "2020-11-25", hdl: 26, triglycerides: 165, total: 165, ldl: null },
                { date: "2021-11-04", hdl: 47, triglycerides: 51, total: 159, ldl: 102 },
                { date: "2022-11-15", hdl: 42, triglycerides: 91, total: 131, ldl: 71 },
                { date: "2023-12-14", hdl: 46, triglycerides: 64, total: 114, ldl: 66 },
                { date: "2024-05-01", hdl: 37, triglycerides: 158, total: 158, ldl: null },
                { date: "2024-11-18", hdl: 28, triglycerides: 150, total: 158, ldl: null },
                { date: "2025-01-11", hdl: 33, triglycerides: 153, total: 149, ldl: null }
            ];

            const formatData = rawData.map(item => ({
                ...item,
                date: new Date(item.date).getFullYear()
            }));

            return (
                <ResponsiveContainer width="100%" height={400}>
                    <LineChart data={formatData} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>
                        <CartesianGrid strokeDasharray="3 3" stroke="#f0f0f0" />
                        <XAxis dataKey="date" stroke="#666" />
                        <YAxis stroke="#666" />
                        <Tooltip 
                            contentStyle={{ backgroundColor: 'rgba(255, 255, 255, 0.95)', border: '1px solid #ddd', borderRadius: '8px' }}
                            labelStyle={{ color: '#333', fontWeight: 'bold' }}
                        />
                        <Legend />
                        
                        <Line 
                            type="monotone" 
                            dataKey="hdl" 
                            stroke="#F97316" 
                            name="HDL (Good)" 
                            strokeWidth={2}
                            dot={{ fill: '#F97316', r: 4 }}
                        />
                        <Line 
                            type="monotone" 
                            dataKey="triglycerides" 
                            stroke="#EF4444" 
                            name="Triglycerides" 
                            strokeWidth={2}
                            dot={{ fill: '#EF4444', r: 4 }}
                        />
                        <Line 
                            type="monotone" 
                            dataKey="total" 
                            stroke="#3B82F6" 
                            name="Total Cholesterol" 
                            strokeWidth={2}
                            dot={{ fill: '#3B82F6', r: 4 }}
                        />
                        <Line 
                            type="monotone" 
                            dataKey="ldl" 
                            stroke="#8B5CF6" 
                            name="LDL (Bad)" 
                            strokeWidth={2}
                            dot={{ fill: '#8B5CF6', r: 4 }}
                            connectNulls={false}
                        />
                    </LineChart>
                </ResponsiveContainer>
            );
        };

        // Render the chart
        ReactDOM.render(<HealthVisualization />, document.getElementById('chart-container'));

        // Tab switching functionality
        document.getElementById('team-tab').addEventListener('click', function() {
            // Switch active tab
            document.getElementById('viz-tab').classList.remove('tab-active');
            this.classList.add('tab-active');
            
            // Switch content
            document.getElementById('viz-content').classList.add('hidden');
            document.getElementById('team-content').classList.remove('hidden');
        });

        document.getElementById('viz-tab').addEventListener('click', function() {
            // Switch active tab
            document.getElementById('team-tab').classList.remove('tab-active');
            this.classList.add('tab-active');
            
            // Switch content
            document.getElementById('team-content').classList.add('hidden');
            document.getElementById('viz-content').classList.remove('hidden');
        });
    </script>
</body>
</html>